Quero validacao de email usando firebase, fazer o login e trocar de ola, usuaria(para pessoa autenticada) e veja sobre a primeira e ultima imagagem nao aparece
import React, { useState } from 'react';
import {
  StyleSheet,
  View,
  Text,
  TextInput,
  TouchableOpacity,
  SafeAreaView,
  ScrollView,
  KeyboardAvoidingView,
  Platform,
  StatusBar,
  Alert, // Para mostrar mensagens simples
} from 'react-native';
// Importar o ícone específico de FontAwesome5
import IconFA5 from 'react-native-vector-icons/FontAwesome5';

// Definindo cores do tema (consistente com a tela de cadastro)
const theme = {
  colors: {
    primary: '#FF69B4', // Rosa vibrante
    text: '#333',
    placeholder: '#888',
    background: '#fff',
    border: '#ccc',
    borderFocused: '#FF69B4', // Cor da borda focada (rosa)
    white: '#fff',
  },
};

// Componente reutilizado para o ícone principal (adaptado do AvatarIcon)
const HeaderIcon = ({ iconName, size = 60, color = theme.colors.white, backgroundColor = theme.colors.primary }) => (
  <View style={[styles.headerIconContainer, { width: size, height: size, borderRadius: size / 2, backgroundColor }]}>
    <IconFA5 name={iconName} size={size * 0.55} color={color} />
  </View>
);

function LoginScreen({ navigation }) { // Recebe navigation para poder navegar
  // --- ESTADOS ---
  const [email, setEmail] = useState(''); // Mudado de nome completo para email (mais comum para login)
  const [password, setPassword] = useState('');
  const [focusedInput, setFocusedInput] = useState(null); // Para controle de foco

  // --- HANDLERS ---
  const handleLogin = () => {
    // Validação básica
    if (!email || !password) {
      Alert.alert('Erro', 'Por favor, preencha o e-mail e a senha.');
      return;
    }

    // --- Lógica de Login (Simulação) ---
    // Aqui você chamaria sua API de autenticação
    console.log('Tentativa de Login com:', { email, password });
    Alert.alert('Sucesso (Simulação)', 'Login realizado com sucesso!');

    // Exemplo: Navegar para a tela principal após o login
      if (navigation) {
         navigation.replace('Home'); // Usa replace para não poder voltar para Login
     }
     
    // --- Fim da Simulação ---
  };

  const handleForgotPassword = () => {
    console.log('Clicou em "Esqueci a senha"');
    // Aqui você navegaria para a tela de recuperação de senha
    // if (navigation) {
    //   navigation.navigate('ForgotPassword');
    // }
     Alert.alert('Info', 'Funcionalidade "Esqueci a senha" a ser implementada.');
  };

  // Função para ir para a tela de cadastro (Opcional, mas útil)
   const goToRegister = () => {
    if (navigation) {
      navigation.navigate('Register'); // Navega para a tela de Registro
    } else {
      console.warn("Navegação para Registro não disponível.");
    }
  };


  const handleFocus = (inputName) => setFocusedInput(inputName);
  const handleBlur = () => setFocusedInput(null);

  return (
    <SafeAreaView style={styles.safeArea}>
      <StatusBar barStyle="dark-content" backgroundColor={theme.colors.background} />
      <KeyboardAvoidingView
        behavior={Platform.OS === "ios" ? "padding" : "height"}
        style={styles.keyboardAvoiding}
      >
        <ScrollView contentContainerStyle={styles.scrollViewContent}>
          <View style={styles.container}>
            {/* Ícone Médico (Mala com +) */}
            <HeaderIcon iconName="briefcase-medical" />

            <Text style={styles.title}>Login</Text>

            <View style={styles.form}>
              {/* Campo E-mail */}
              <TextInput
                style={[
                  styles.input,
                  focusedInput === 'email' && styles.inputFocused
                ]}
                placeholder="E-mail" // Alterado de "Nome Completo"
                placeholderTextColor={theme.colors.placeholder}
                value={email}
                onChangeText={setEmail}
                keyboardType="email-address"
                textContentType="emailAddress" // Importante para autofill
                autoCapitalize="none"
                onFocus={() => handleFocus('email')}
                onBlur={handleBlur}
              />

              {/* Campo Senha */}
              <TextInput
                style={[
                  styles.input,
                  focusedInput === 'password' && styles.inputFocused
                ]}
                placeholder="Senha"
                placeholderTextColor={theme.colors.placeholder}
                value={password}
                onChangeText={setPassword}
                secureTextEntry={true} // Esconde a senha
                textContentType="password" // Importante para autofill
                onFocus={() => handleFocus('password')}
                onBlur={handleBlur}
              />

              {/* Link Esqueci a Senha */}
              <TouchableOpacity
                style={styles.forgotPasswordContainer}
                onPress={handleForgotPassword}
              >
                <Text style={styles.forgotPasswordText}>Esqueci a senha?</Text>
              </TouchableOpacity>

              {/* Botão Entrar */}
              <TouchableOpacity style={styles.button} onPress={handleLogin}>
                <Text style={styles.buttonText}>Entrar</Text>
              </TouchableOpacity>

              {/* Link para Cadastro (Opcional) */}
               <TouchableOpacity style={styles.registerLinkContainer} onPress={goToRegister}>
                 <Text style={styles.registerLinkText}>Não tem uma conta? Cadastre-se</Text>
               </TouchableOpacity>

            </View>
          </View>
        </ScrollView>
      </KeyboardAvoidingView>
    </SafeAreaView>
  );
}

const styles = StyleSheet.create({
  safeArea: {
    flex: 1,
    backgroundColor: theme.colors.background,
  },
  keyboardAvoiding: {
    flex: 1,
  },
  scrollViewContent: {
    flexGrow: 1,
    justifyContent: 'center', // Centraliza o conteúdo verticalmente
  },
  container: {
    alignItems: 'center', // Centraliza itens horizontalmente
    paddingHorizontal: 30, // Aumentei um pouco o padding lateral
    paddingVertical: 40,
  },
  headerIconContainer: {
    marginBottom: 25, // Espaço abaixo do ícone
    justifyContent: 'center',
    alignItems: 'center',
    // Sombra sutil (opcional)
    shadowColor: '#000',
    shadowOffset: { width: 0, height: 3 },
    shadowOpacity: 0.2,
    shadowRadius: 4,
    elevation: 6,
  },
  title: {
    fontSize: 28, // Um pouco maior para destaque
    fontWeight: 'bold',
    color: theme.colors.text,
    marginBottom: 30, // Mais espaço abaixo do título
  },
  form: {
    width: '100%', // Ocupa toda a largura do container
  },
  input: {
    backgroundColor: theme.colors.white,
    borderWidth: 1,
    borderColor: theme.colors.border,
    borderRadius: 8,
    paddingHorizontal: 15,
    paddingVertical: 12,
    fontSize: 16,
    color: theme.colors.text,
    marginBottom: 15,
    width: '100%',
  },
  inputFocused: {
    borderColor: theme.colors.borderFocused, // Borda rosa ao focar
    borderWidth: 1.5,
  },
  forgotPasswordContainer: {
    alignSelf: 'flex-end', // Alinha o link à direita
    marginBottom: 20, // Espaço antes do botão Entrar
  },
  forgotPasswordText: {
    color: theme.colors.primary, // Cor rosa
    fontSize: 14,
    textDecorationLine: 'underline', // Sublinhado para indicar link
  },
  button: {
    backgroundColor: theme.colors.primary, // Fundo rosa
    paddingVertical: 14, // Botão um pouco maior
    paddingHorizontal: 20,
    borderRadius: 25, // Bordas arredondadas
    alignItems: 'center',
    justifyContent: 'center',
    width: '100%', // Botão ocupa toda a largura
    marginBottom: 20, // Espaço abaixo do botão
    // Sombra
    shadowColor: '#000',
    shadowOffset: { width: 0, height: 2 },
    shadowOpacity: 0.3,
    shadowRadius: 3,
    elevation: 5,
  },
  buttonText: {
    color: theme.colors.white, // Texto branco
    fontSize: 16,
    fontWeight: 'bold',
  },
  registerLinkContainer: {
     marginTop: 15, // Espaço acima do link de cadastro
     alignItems: 'center',
  },
  registerLinkText: {
     color: theme.colors.primary, // Cor rosa
     fontSize: 14,
     textDecorationLine: 'underline',
  },
});

export default LoginScreen;

import React, { useState, useEffect, useRef } from 'react'; // Importa hooks necessários
import {
  StyleSheet,
  View,
  Text,
  TextInput,
  TouchableOpacity,
  SafeAreaView,
  ScrollView,
  Image,
  StatusBar,
  Dimensions,
  Platform,
} from 'react-native';
import Icon from 'react-native-vector-icons/Feather';

// --- TEMA ---
const theme = {
  colors: {
    primary: '#FF69B4', // Rosa vibrante
    white: '#fff',
    text: '#333',
    textSecondary: '#666',
    placeholder: '#999',
    background: '#f7f7f7',
    border: '#eee',
    cardBackground: '#fff',
    activeCategoryText: '#fff', // Cor do texto da categoria ativa
    inactiveCategoryBackground: '#f0f0f0', // Fundo da categoria inativa
  },
  fonts: {
    // Verifique se os nomes das fontes estão corretos e configurados
    regular: 'WinkySans-Regular',
    bold: 'WinkySans-Bold',
    systemRegular: Platform.OS === 'ios' ? 'System' : 'sans-serif',
    systemBold: Platform.OS === 'ios' ? 'System' : 'sans-serif-bold',
  }
};

// --- DADOS ---
const flagImageUrl = 'https://dm0qx8t0i9gc9.cloudfront.net/thumbnails/video/SNc_bPaMeiw63zp8r/realistic-beautiful-mozambique-flag-4k_btb1ylatee_thumbnail-1080_01.png';
const userName = "Usuária"; // Virá do login/estado global

// Categorias Femtech (Exemplo)
const femtechCategories = [
    'Ciclo Menstrual',
    'Gravidez',
    'Fertilidade',
    'Menopausa',
    'Bem-Estar Íntimo',
    'Doenças Comuns',
    'Prevenção', // Nome mais curto
    'Saúde Mental',
    'Nutrição', // Adicionando mais exemplos
    'Exercícios',
];

// URLs das Imagens do Slider (Use URLs reais)
const sliderImageUrls = [
  'https://images.unsplash.com/photo-1581091019961-99f3380f5f39?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1170&q=80',
  'https://images.unsplash.com/photo-1576091160550-2173dba999ef?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1170&q=80',
  'https://images.unsplash.com/photo-1512678080530-7760d81faba6?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1170&q=80',
  'https://images.unsplash.com/photo-1607619056574-7b8f352a5d6e?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1170&q=80',
];

// Dimensões da Tela
const { width: screenWidth } = Dimensions.get('window');

// --- COMPONENTE ---
function DashboardScreen({ navigation }) {
  const [searchText, setSearchText] = useState('');
  // Estado para categoria ativa (inicia com a primeira)
  const [activeCategory, setActiveCategory] = useState(femtechCategories[0]);
  // Estado e Ref para o slider automático
  const [activeSlideIndex, setActiveSlideIndex] = useState(0);
  const sliderRef = useRef(null); // Ref para controlar o ScrollView do slider

  // --- Efeito para Slider Automático ---
  useEffect(() => {
    if (sliderImageUrls.length <= 1) return; // Não faz nada se tiver 1 ou 0 imagens

    const intervalId = setInterval(() => {
      setActiveSlideIndex(prevIndex => {
        const nextIndex = (prevIndex + 1) % sliderImageUrls.length; // Calcula próximo índice com loop
        // Comando para rolar o ScrollView programaticamente
        if (sliderRef.current) {
          sliderRef.current.scrollTo({
            x: nextIndex * screenWidth, // Posição X da próxima imagem (largura da tela)
            animated: true, // Animação suave
          });
        }
        return nextIndex; // Atualiza o estado do índice
      });
    }, 5000); // Intervalo de 5 segundos

    // Função de limpeza que será executada quando o componente for desmontado
    return () => clearInterval(intervalId);
  }, [sliderImageUrls.length]); // Executa o efeito novamente se o número de imagens mudar

  // --- Handlers ---
  const handleSearch = () => {
    console.log('Pesquisando por:', searchText);
    // Adicionar lógica de busca
  };

  const handleCategoryPress = (category) => {
      console.log('Categoria selecionada:', category);
      setActiveCategory(category); // Define a categoria clicada como ativa
      // Adicionar navegação ou filtro baseado na categoria
  };

  // Função para atualizar o índice ativo se o usuário rolar o slider manualmente
  const onScrollEnd = (event) => {
    const contentOffsetX = event.nativeEvent.contentOffset.x;
    const newIndex = Math.round(contentOffsetX / screenWidth);
    if (newIndex !== activeSlideIndex) {
        setActiveSlideIndex(newIndex);
    }
  };

  // --- RENDER ---
  return (
    <SafeAreaView style={styles.safeArea}>
      <StatusBar barStyle="dark-content" backgroundColor={theme.colors.background} />
      <ScrollView
        style={styles.scrollView}
        showsVerticalScrollIndicator={false}
        contentContainerStyle={styles.scrollViewContent}
      >
        {/* Cabeçalho */}
        <View style={styles.header}>
             <View style={styles.greetingContainer}>
                <Text style={styles.greeting}>Olá, </Text>
                <Text style={[styles.greeting, styles.userName]}>{userName}!</Text>
             </View>
             <Image source={{ uri: flagImageUrl }} style={styles.flag} resizeMode="contain"/>
        </View>

        {/* Barra de Pesquisa */}
        <View style={styles.searchContainer}>
            <TextInput
                style={styles.searchInput}
                placeholder="Procurar especialista"
                placeholderTextColor={theme.colors.placeholder}
                value={searchText}
                onChangeText={setSearchText}
                onSubmitEditing={handleSearch}
            />
            <TouchableOpacity style={styles.searchIconContainer} onPress={handleSearch}>
                <Icon name="search" size={20} color={theme.colors.primary} />
            </TouchableOpacity>
        </View>

        {/* Seção de Categorias Rolável Horizontalmente */}
        <View style={styles.categoriesSection}>
          <ScrollView
            horizontal={true}
            showsHorizontalScrollIndicator={false}
            contentContainerStyle={styles.categoriesScrollViewContent}
          >
            {femtechCategories.map((category, index) => {
                const isActive = activeCategory === category; // Verifica se é a categoria ativa
                return (
                  <TouchableOpacity
                    key={index}
                    style={[
                      styles.categoryButton,
                      isActive ? styles.categoryButtonActive : styles.categoryButtonInactive // Aplica estilo condicional
                    ]}
                    onPress={() => handleCategoryPress(category)}
                    activeOpacity={0.8}
                  >
                    <Text style={[
                      styles.categoryButtonText,
                      isActive ? styles.categoryButtonTextActive : styles.categoryButtonTextInactive // Aplica estilo condicional
                    ]}>
                      {category}
                    </Text>
                  </TouchableOpacity>
                );
            })}
          </ScrollView>
        </View>

        {/* Slider de Imagens Automático */}
        <View style={styles.sliderContainer}>
           <ScrollView
             ref={sliderRef} // Atribui a ref ao ScrollView
             horizontal={true}
             showsHorizontalScrollIndicator={false}
             pagingEnabled={true} // Faz o scroll parar exatamente em cada "página" (imagem)
             style={styles.sliderScrollView}
             onMomentumScrollEnd={onScrollEnd} // Atualiza índice no scroll manual
             scrollEventThrottle={16} // Opcional: Melhora performance do onScroll (se usar onScroll)
           >
             {sliderImageUrls.map((imageUrl, index) => (
               <View key={index} style={styles.slide}>
                  <Image
                    source={{ uri: imageUrl }}
                    style={styles.sliderImage}
                    resizeMode="cover" // Cobre a área designada
                  />
               </View>
             ))}
           </ScrollView>
           {/* Opcional: Indicador de pontos do slide */}
           <View style={styles.pagination}>
              {sliderImageUrls.map((_, index) => (
                <View
                    key={index}
                    style={[
                        styles.paginationDot,
                        index === activeSlideIndex ? styles.paginationDotActive : styles.paginationDotInactive,
                    ]}
                />
              ))}
           </View>
        </View>

        {/* Outro Conteúdo do Dashboard pode vir aqui */}
        <View style={{height: 200, alignItems: 'center', justifyContent: 'center'}}>
            <Text style={{color: theme.colors.textSecondary}}>Mais conteúdo aqui...</Text>
        </View>

      </ScrollView>
    </SafeAreaView>
  );
}

// --- ESTILOS ---
const styles = StyleSheet.create({
    safeArea: {
        flex: 1,
        backgroundColor: theme.colors.background,
    },
    scrollView: {
        flex: 1,
    },
    scrollViewContent: {
        paddingBottom: 30,
    },
    header: {
        flexDirection: 'row',
        justifyContent: 'space-between',
        alignItems: 'center',
        paddingHorizontal: 20,
        paddingTop: Platform.OS === 'android' ? 25 : 15,
        paddingBottom: 15, // Aumentei o padding inferior
        backgroundColor: theme.colors.cardBackground,
        // Removi a borda inferior para um look mais limpo com as categorias abaixo
    },
    greetingContainer: {
        flexDirection: 'row',
        alignItems: 'center', // Alinha verticalmente
    },
    greeting: {
        fontSize: 20, // Ligeiramente menor
        fontFamily: theme.fonts.systemRegular, // Fallback
        color: theme.colors.textSecondary,
    },
    userName: {
        fontSize: 20, // Ligeiramente menor
        fontFamily: theme.fonts.systemBold, // Fallback
        fontWeight: Platform.OS === 'android' ? 'bold' : '600',
        color: theme.colors.text,
    },
    flag: {
        width: 32, // Ligeiramente menor
        height: 22, // Ligeiramente menor
        marginLeft: 10, // Espaço entre nome e bandeira
        backgroundColor: theme.colors.border,
    },
    searchContainer: {
        flexDirection: 'row',
        alignItems: 'center',
        backgroundColor: theme.colors.cardBackground,
        borderRadius: 12, // Menos arredondado
        marginHorizontal: 15,
        marginTop: 15,
        marginBottom: 15,
        paddingHorizontal: 15,
        paddingVertical: Platform.OS === 'ios' ? 12 : 10,
        elevation: 2,
        shadowColor: '#000',
        shadowOffset: { width: 0, height: 1 },
        shadowOpacity: 0.1,
        shadowRadius: 1.5,
    },
    searchInput: {
        flex: 1,
        fontSize: 15,
        fontFamily: theme.fonts.systemRegular, // Fallback
        color: theme.colors.text,
        paddingVertical: 0,
    },
    searchIconContainer: {
        paddingLeft: 10,
    },
    categoriesSection: {
        // Sem padding horizontal aqui, o scroll vai de ponta a ponta
        paddingVertical: 10, // Espaço vertical para a seção
        backgroundColor: theme.colors.cardBackground, // Fundo branco para destacar
        marginBottom: 15,
    },
    categoriesScrollViewContent: {
      paddingHorizontal: 15, // Espaço nas laterais da lista de categorias
      alignItems: 'center', // Alinha verticalmente os botões
    },
    categoryButton: {
      paddingVertical: 8,
      paddingHorizontal: 16,
      borderRadius: 20, // Botões arredondados
      marginRight: 10, // Espaço entre os botões
      borderWidth: 1, // Adiciona borda para inativos
      borderColor: theme.colors.border, // Cor da borda inativa
    },
    categoryButtonInactive: {
        backgroundColor: theme.colors.inactiveCategoryBackground, // Cor de fundo inativa
        borderColor: theme.colors.border,
    },
    categoryButtonActive: {
      backgroundColor: theme.colors.primary, // Cor primária (rosa) para ativo
      borderColor: theme.colors.primary, // Cor da borda ativa
    },
    categoryButtonText: {
      fontSize: 14,
      fontFamily: theme.fonts.systemRegular, // Fallback
      fontWeight: '500',
    },
    categoryButtonTextInactive: {
        color: theme.colors.textSecondary, // Cor do texto inativo
    },
    categoryButtonTextActive: {
      color: theme.colors.activeCategoryText, // Cor do texto ativo (branco)
      fontWeight: Platform.OS === 'android' ? 'bold' : '600', // Texto ativo em negrito
    },
    sliderContainer: {
        marginBottom: 20, // Espaço abaixo do slider
        // Não precisa de padding horizontal, o slide ocupa a tela toda
    },
    sliderScrollView: {
        // O ScrollView em si não precisa de estilo extra aqui
    },
    slide: {
      width: screenWidth, // Cada slide ocupa a largura total da tela
      // A altura é definida pela imagem interna
      // Adicionar padding horizontal se quiser margens visíveis nos lados do slide
      // paddingHorizontal: 15,
    },
    sliderImage: {
      width: '100%', // Imagem ocupa a largura do slide
      height: screenWidth * 0.5, // Altura do slider (ex: 50% da largura da tela)
      backgroundColor: theme.colors.border, // Placeholder
      // Remover borderRadius se o slide ocupa a tela toda sem padding
      // borderRadius: 15,
    },
    pagination: {
        flexDirection: 'row',
        justifyContent: 'center',
        alignItems: 'center',
        position: 'absolute', // Posiciona sobre o slider
        bottom: 15, // Distância da base do slider
        left: 0,
        right: 0,
    },
    paginationDot: {
        width: 8,
        height: 8,
        borderRadius: 4,
        marginHorizontal: 4,
    },
    paginationDotActive: {
        backgroundColor: theme.colors.primary, // Ponto ativo rosa
    },
    paginationDotInactive: {
        backgroundColor: theme.colors.white, // Ponto inativo branco
        opacity: 0.7,
    }
});

export default DashboardScreen;